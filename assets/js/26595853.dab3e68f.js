"use strict";(self.webpackChunkcresp_docs=self.webpackChunkcresp_docs||[]).push([[94],{4301:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>p,frontMatter:()=>c,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"r-projects","title":"CRESP for R Projects","description":"This document explains how to use the CRESP protocol with R projects, introducing the rproject format for standardizing R computational environments.","source":"@site/docs/r-projects.md","sourceDirName":".","slug":"/r-projects","permalink":"/docs/r-projects","draft":false,"unlisted":false,"editUrl":"https://github.com/wisupai/CRESP-DOCS/tree/main/docs/r-projects.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"CRESP for Python Projects","permalink":"/docs/python-projects"},"next":{"title":"CRESP for MATLAB Projects","permalink":"/docs/matlab-projects"}}');var i=r(4848),o=r(8453);const c={sidebar_position:4},s="CRESP for R Projects",a={},l=[{value:"Introduction to rproject",id:"introduction-to-rproject",level:2},{value:"Example Configuration",id:"example-configuration",level:2},{value:"Environment Management",id:"environment-management",level:2},{value:"Using renv",id:"using-renv",level:3},{value:"Using packrat",id:"using-packrat",level:3},{value:"Direct Dependency Specification",id:"direct-dependency-specification",level:3},{value:"CRAN and Bioconductor Repositories",id:"cran-and-bioconductor-repositories",level:2},{value:"Execution Configuration",id:"execution-configuration",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Example Project Structure",id:"example-project-structure",level:2},{value:"Converting Existing R Projects",id:"converting-existing-r-projects",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"cresp-for-r-projects",children:"CRESP for R Projects"})}),"\n",(0,i.jsxs)(n.p,{children:["This document explains how to use the CRESP protocol with R projects, introducing the ",(0,i.jsx)(n.code,{children:"rproject"})," format for standardizing R computational environments."]}),"\n",(0,i.jsx)(n.h2,{id:"introduction-to-rproject",children:"Introduction to rproject"}),"\n",(0,i.jsxs)(n.p,{children:["While R traditionally uses the DESCRIPTION file for package metadata, the CRESP protocol introduces a more comprehensive ",(0,i.jsx)(n.code,{children:"rproject"})," format that extends this functionality to ensure reproducibility of R-based computational research."]}),"\n",(0,i.jsx)(n.h2,{id:"example-configuration",children:"Example Configuration"}),"\n",(0,i.jsx)(n.p,{children:"Here's an example of how to configure an R project in your CRESP file:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",children:'###############################################################################\n# R Project Configuration\n###############################################################################\n\n[rproject]\nfile = "DESCRIPTION"  # Optional: Points to an existing DESCRIPTION file\n\n# If no external DESCRIPTION file is referenced, you can include the configuration directly:\nname = "my-r-research-project"\nversion = "0.1.0"\ndescription = "A reproducible research project using R"\nauthors = ["Researcher Name <researcher@example.com>"]\n\n[rproject.dependencies]\nR = "^4.1.0"\ntidyverse = "^1.3.1"\nggplot2 = "^3.3.5"\ndplyr = "^1.0.7"\ncaret = "^6.0.90"\nrandomForest = "^4.6.14"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"environment-management",children:"Environment Management"}),"\n",(0,i.jsx)(n.p,{children:"For R projects, CRESP supports multiple environment management approaches:"}),"\n",(0,i.jsx)(n.h3,{id:"using-renv",children:"Using renv"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://rstudio.github.io/renv/",children:"renv"})," is a dependency management tool for R projects. You can specify the renv.lock file in your CRESP configuration:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",children:'[rproject.renv]\nlockfile = "renv.lock"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"using-packrat",children:"Using packrat"}),"\n",(0,i.jsxs)(n.p,{children:["For projects using ",(0,i.jsx)(n.a,{href:"https://rstudio.github.io/packrat/",children:"packrat"}),", you can specify the packrat directory:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",children:'[rproject.packrat]\ndirectory = "packrat"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"direct-dependency-specification",children:"Direct Dependency Specification"}),"\n",(0,i.jsx)(n.p,{children:"You can also specify dependencies directly in the CRESP file:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",children:'[rproject.dependencies]\nR = "^4.1.0"\ntidyverse = "^1.3.1"\nggplot2 = "^3.3.5"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"cran-and-bioconductor-repositories",children:"CRAN and Bioconductor Repositories"}),"\n",(0,i.jsx)(n.p,{children:"Specify the repositories to use for package installation:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",children:'[rproject.repositories]\nCRAN = "https://cloud.r-project.org"\nBioconductor = "https://bioconductor.org/packages/release/bioc"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"execution-configuration",children:"Execution Configuration"}),"\n",(0,i.jsx)(n.p,{children:"Specify how to run your R project:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",children:'[execution]\nverify_script = "verify_env.R"  # Script to verify the environment\ncommand = "Rscript main.R --config config.json"  # Command to run the experiment\n'})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Version Pinning"}),": Always pin exact versions of R packages to ensure reproducibility"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Environment Isolation"}),": Use renv or packrat for environment isolation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Random Seed Control"}),": Set global and local random seeds"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Documentation"}),": Include detailed documentation on how to run the experiment"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Session Info"}),": Include R session information in your documentation"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"example-project-structure",children:"Example Project Structure"}),"\n",(0,i.jsx)(n.p,{children:"A typical R project using CRESP might have the following structure:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"my-r-research-project/\n\u251c\u2500\u2500 cresp.toml              # CRESP configuration file\n\u251c\u2500\u2500 DESCRIPTION             # R package description file\n\u251c\u2500\u2500 README.md               # Project documentation\n\u251c\u2500\u2500 data/                   # Data directory\n\u2502   \u251c\u2500\u2500 raw/                # Raw data\n\u2502   \u2514\u2500\u2500 processed/          # Processed data\n\u251c\u2500\u2500 R/                      # R source code\n\u2502   \u251c\u2500\u2500 data_processing.R\n\u2502   \u251c\u2500\u2500 models.R\n\u2502   \u2514\u2500\u2500 visualization.R\n\u251c\u2500\u2500 analysis/               # Analysis scripts\n\u2502   \u2514\u2500\u2500 analysis.Rmd        # R Markdown analysis\n\u251c\u2500\u2500 tests/                  # Tests\n\u2502   \u2514\u2500\u2500 testthat/           # testthat tests\n\u251c\u2500\u2500 renv/                   # renv directory (if using renv)\n\u2502   \u2514\u2500\u2500 renv.lock           # renv lock file\n\u251c\u2500\u2500 verify_env.R            # Environment verification script\n\u2514\u2500\u2500 main.R                  # Main experiment script\n"})}),"\n",(0,i.jsx)(n.h2,{id:"converting-existing-r-projects",children:"Converting Existing R Projects"}),"\n",(0,i.jsx)(n.p,{children:"To convert an existing R project to use the CRESP protocol:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Create a ",(0,i.jsx)(n.code,{children:"cresp.toml"})," file in your project root"]}),"\n",(0,i.jsx)(n.li,{children:"Reference your existing DESCRIPTION file or specify dependencies directly"}),"\n",(0,i.jsx)(n.li,{children:"Add execution configuration"}),"\n",(0,i.jsx)(n.li,{children:"Add hardware and software requirements"}),"\n",(0,i.jsx)(n.li,{children:"Add dataset information"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"By following these guidelines, you can ensure that your R-based computational research is fully reproducible using the CRESP protocol."})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>s});var t=r(6540);const i={},o=t.createContext(i);function c(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);